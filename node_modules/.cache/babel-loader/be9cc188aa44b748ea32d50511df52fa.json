{"ast":null,"code":"var _jsxFileName = \"D:\\\\React Project\\\\Source Code\\\\src\\\\component\\\\table.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Table from '@mui/material/Table';\nimport { Loader1 } from './loader';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Button from '@mui/material/Button';\nimport { useState } from 'react';\nimport { auth, push, onAuthStateChanged, signOut, ref, db, child, get, query, update, remove, onValue } from '../firebase/firebase';\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BasicTable() {\n  _s();\n\n  let arr = [];\n  const [data, setData] = React.useState([]);\n  const [name, setName] = useState();\n  const [cnic, setCnic] = useState();\n  const [address, setAddress] = useState();\n  const [contactNo, setContactNo] = useState();\n  const [noOfPerson, setNoOfPerson] = useState();\n  const [noOfDayStay, setNoOfDayStay] = useState();\n  const navigation = useNavigate();\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  let refresh = () => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        const uid = user.uid;\n        const dbRef = ref(db, `Bookings/${uid}`);\n        onValue(dbRef, snapshot => {\n          snapshot.forEach(childSnapshot => {\n            let childKey = childSnapshot.key;\n            let childData = childSnapshot.val();\n            arr.push(childData);\n            console.log(childData);\n          });\n          console.log(arr);\n          setData(arr);\n        });\n      }\n    });\n  };\n\n  const edit = e => {\n    let name = prompt('Enter Your Name');\n    let cnic = prompt('Enter Your Cnic Number');\n    let address = prompt('Enter Your Address');\n    let contactNo = prompt('Enter Your Contact No');\n    let noOfPerson = prompt('No Of Persons');\n    let noOfDayStay = prompt('No Of Day Stay');\n    console.log(e);\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        const uid = user.uid;\n        const dbRef = ref(db, `Bookings/${uid}/${e}`);\n        console.log('found');\n        console.log(e);\n        update(dbRef, {\n          name,\n          cnic,\n          address,\n          contactNo,\n          noOfPerson,\n          noOfDayStay\n        }).then(() => {\n          console.log(\"data changed successfully\");\n        }).catch(err => {\n          console.log(\"unsuccessfully\");\n        });\n      }\n    });\n    refresh();\n  };\n\n  const dele = e => {\n    console.log(e);\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        const uid = user.uid;\n        const dbRef = ref(db, `Bookings/${uid}/${e}`);\n        console.log('found');\n        console.log(e);\n        remove(dbRef).then(() => {\n          console.log(\"data is deleted\"); // navigation('/accdet')\n        }).catch(err => {\n          console.log(\"unsuccessfully\");\n        });\n      }\n    });\n    refresh();\n  };\n\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        const uid = user.uid;\n        const dbRef = ref(db, `Bookings/${uid}`);\n        onValue(dbRef, snapshot => {\n          snapshot.forEach(childSnapshot => {\n            let childKey = childSnapshot.key;\n            let childData = childSnapshot.val();\n            arr.push(childData);\n            console.log(childData);\n          });\n          console.log(arr);\n          setData(arr);\n        });\n      }\n    });\n  }, dele);\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    sx: {\n      marginTop: '40px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      sx: {\n        minWidth: 650\n      },\n      \"aria-label\": \"simple table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Stay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"CNIC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Mobile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Persons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: data != 0 ? data.map((item, index) => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                color: 'black'\n              },\n              component: \"th\",\n              scope: \"row\",\n              children: item.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 72\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: item.noOfDayStay\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 169\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: item.cnic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 224\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: item.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 272\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: item.contactNo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 323\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: item.noOfPerson\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 376\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"text\",\n                onClick: () => {\n                  edit(item.newkey);\n                },\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 516\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 455\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 430\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"text\",\n                onClick: () => {\n                  dele(item.newkey);\n                },\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 635\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 574\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 549\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 62\n          }, this)\n        }, void 0, false)) : /*#__PURE__*/_jsxDEV(Loader1, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 688\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this), data.name]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BasicTable, \"Br6t2evxIJTBKaiwkSWni5WYUDQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = BasicTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasicTable\");","map":{"version":3,"sources":["D:/React Project/Source Code/src/component/table.js"],"names":["React","Table","Loader1","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useEffect","useNavigate","EditIcon","DeleteIcon","Button","useState","auth","push","onAuthStateChanged","signOut","ref","db","child","get","query","update","remove","onValue","swal","BasicTable","arr","data","setData","name","setName","cnic","setCnic","address","setAddress","contactNo","setContactNo","noOfPerson","setNoOfPerson","noOfDayStay","setNoOfDayStay","navigation","show","setShow","handleClose","handleShow","refresh","user","uid","dbRef","snapshot","forEach","childSnapshot","childKey","key","childData","val","console","log","edit","e","prompt","then","catch","err","dele","marginTop","minWidth","map","item","index","color","newkey"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport { Loader1 } from './loader';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Button from '@mui/material/Button';\r\nimport { useState } from 'react';\r\nimport {\r\n    auth,\r\n    push,\r\n    onAuthStateChanged,\r\n    signOut,\r\n    ref,\r\n    db,\r\n    child,\r\n    get,\r\n    query,\r\n    update,\r\n    remove,\r\n    onValue\r\n} from '../firebase/firebase'\r\nimport swal from 'sweetalert';\r\n\r\n\r\n\r\n\r\n\r\nexport default function BasicTable() {\r\n    let arr = [];\r\n    const [data, setData] = React.useState([]);\r\n    const [name, setName] = useState()\r\n    const [cnic, setCnic] = useState()\r\n    const [address, setAddress] = useState()\r\n    const [contactNo, setContactNo] = useState()\r\n    const [noOfPerson, setNoOfPerson] = useState()\r\n    const [noOfDayStay, setNoOfDayStay] = useState()\r\n    const navigation = useNavigate();\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    \r\n    let refresh = () => {\r\n        onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                const uid = user.uid;\r\n                const dbRef = ref(db, `Bookings/${uid}`);\r\n                onValue(dbRef, (snapshot) => {\r\n                    snapshot.forEach((childSnapshot) => {\r\n                        let childKey = childSnapshot.key;\r\n                        let childData = childSnapshot.val();\r\n                        arr.push(childData)\r\n                        console.log(childData)\r\n                    });\r\n                    console.log(arr)\r\n                    setData(arr)\r\n                })\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    const edit = (e) => {\r\n\r\n        let name = prompt('Enter Your Name')\r\n        let cnic = prompt('Enter Your Cnic Number')\r\n        let address = prompt('Enter Your Address')\r\n        let contactNo = prompt('Enter Your Contact No')\r\n        let noOfPerson = prompt('No Of Persons')\r\n        let noOfDayStay = prompt('No Of Day Stay')\r\n\r\n        console.log(e)\r\n\r\n        onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n\r\n                const uid = user.uid;\r\n                const dbRef = ref(db, `Bookings/${uid}/${e}`);\r\n                console.log('found')\r\n                console.log(e)\r\n                update(dbRef, {\r\n                    name,\r\n                    cnic,\r\n                    address,\r\n                    contactNo,\r\n                    noOfPerson,\r\n                    noOfDayStay,\r\n                })\r\n                    .then(() => {\r\n                        console.log(\"data changed successfully\");\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"unsuccessfully\");\r\n                    })\r\n            }\r\n        }\r\n        );\r\n        refresh()\r\n    }\r\n    const dele = (e) => {\r\n        console.log(e)\r\n        onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                const uid = user.uid;\r\n                const dbRef = ref(db, `Bookings/${uid}/${e}`);\r\n                console.log('found')\r\n                console.log(e)\r\n                remove(dbRef)\r\n                    .then(() => {\r\n                        console.log(\"data is deleted\");\r\n                        // navigation('/accdet')\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"unsuccessfully\");\r\n                    })\r\n            }\r\n        }\r\n        );\r\n        refresh()\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                const uid = user.uid;\r\n                const dbRef = ref(db, `Bookings/${uid}`);\r\n                onValue(dbRef, (snapshot) => {\r\n                    snapshot.forEach((childSnapshot) => {\r\n                        let childKey = childSnapshot.key;\r\n                        let childData = childSnapshot.val();\r\n                        arr.push(childData)\r\n                        console.log(childData)\r\n                    });\r\n                    console.log(arr)\r\n                    setData(arr)\r\n                })\r\n\r\n\r\n            }\r\n        }\r\n\r\n        );\r\n\r\n\r\n    }, dele)\r\n    console.log(data)\r\n\r\n\r\n    return (\r\n        <TableContainer component={Paper} sx={{ marginTop: '40px' }}>\r\n            <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell align=\"right\">Stay</TableCell>\r\n                        <TableCell align=\"right\">CNIC</TableCell>\r\n                        <TableCell align=\"right\">Address</TableCell>\r\n                        <TableCell align=\"right\">Mobile</TableCell>\r\n                        <TableCell align=\"right\">Persons</TableCell>\r\n                        <TableCell align=\"right\">Edit</TableCell>\r\n                        <TableCell align=\"right\">Delete</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n\r\n\r\n                    {data != 0 ? data.map((item, index) => <><TableRow><TableCell sx={{ color: 'black' }} key={index} component=\"th\" scope=\"row\">{item.name}</TableCell><TableCell align=\"right\">{item.noOfDayStay}</TableCell><TableCell align=\"right\">{item.cnic}</TableCell><TableCell align=\"right\">{item.address}</TableCell><TableCell align=\"right\">{item.contactNo}</TableCell><TableCell align=\"right\">{item.noOfPerson}</TableCell><TableCell align=\"right\"><Button variant=\"text\" onClick={() => { edit(item.newkey) }}><EditIcon /></Button></TableCell><TableCell align=\"right\"><Button variant=\"text\" onClick={() => { dele(item.newkey) }}><DeleteIcon /></Button></TableCell></TableRow></>) : <Loader1 />}\r\n                    {/* {data == 0?<h1>No data Found</h1>:Null} */}\r\n\r\n\r\n                </TableBody>\r\n            </Table>\r\n            {data.name}\r\n        </TableContainer>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}