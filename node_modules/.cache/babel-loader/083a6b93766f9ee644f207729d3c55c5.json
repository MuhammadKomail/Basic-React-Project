{"ast":null,"code":"var _jsxFileName = \"D:\\\\React Project\\\\Source Code\\\\src\\\\component\\\\AdminDetail.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Button from '@mui/material/Button';\nimport { useState } from 'react';\nimport { Loader1 } from './loader';\nimport { auth, push, onAuthStateChanged, signOut, ref, db, child, get, query, update, remove, onValue } from '../firebase/firebase';\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BasicTable() {\n  _s();\n\n  let arr = [];\n  const [data, setData] = React.useState([]);\n  const [name, setName] = useState();\n  const [cnic, setCnic] = useState();\n  const [address, setAddress] = useState();\n  const [contactNo, setContactNo] = useState();\n  const [noOfPerson, setNoOfPerson] = useState();\n  const [noOfDayStay, setNoOfDayStay] = useState();\n  const navigation = useNavigate();\n  const [show, setShow] = useState(false);\n\n  const edit = e => {\n    let name = prompt('Enter Your Name');\n    let cnic = prompt('Enter Your Cnic Number');\n    let address = prompt('Enter Your Address');\n    let contactNo = prompt('Enter Your Contact No');\n    let noOfPerson = prompt('No Of Persons');\n    let noOfDayStay = prompt('No Of Day Stay');\n    console.log(e);\n    const dbRef = ref(db, `Bookings/`);\n    onValue(dbRef, snapshot => {\n      snapshot.forEach(childSnapshot => {\n        let childKey = childSnapshot.key;\n        update(ref(db, `Bookings/${childKey}/${e}`), {\n          name,\n          cnic,\n          address,\n          contactNo,\n          noOfPerson,\n          noOfDayStay\n        }).then(() => {\n          console.log(\"data changed successfully\");\n          navigation('/accdet');\n        }).catch(err => {\n          console.log(\"unsuccessfully\");\n        });\n      });\n      refresh();\n    });\n  };\n\n  const dele = e => {\n    console.log(e);\n    const dbRef = ref(db, `Bookings/`);\n    onValue(dbRef, snapshot => {\n      snapshot.forEach(childSnapshot => {\n        let childKey = childSnapshot.key;\n        remove(ref(db, `Bookings/${childKey}/${e}`));\n      });\n      refresh();\n    });\n  };\n\n  useEffect(() => {\n    const dbRef = ref(db, `Bookings/`);\n    onValue(dbRef, snapshot => {\n      snapshot.forEach(childSnapshot => {\n        let childKey = childSnapshot.key;\n        let childData = childSnapshot.val();\n        onValue(ref(db, `Bookings/${childKey}/`), snapshot => {\n          snapshot.forEach(childSnapshot => {\n            let childKey1 = childSnapshot.key;\n            let childData1 = childSnapshot.val();\n            arr.push(childData1);\n            console.log(childData1);\n          });\n        });\n        setData(arr);\n      });\n    });\n  }, []);\n\n  let refresh = () => {\n    const dbRef = ref(db, `Bookings/`);\n    onValue(dbRef, snapshot => {\n      snapshot.forEach(childSnapshot => {\n        let childKey = childSnapshot.key;\n        let childData = childSnapshot.val();\n        onValue(ref(db, `Bookings/${childKey}/`), snapshot => {\n          snapshot.forEach(childSnapshot => {\n            let childKey1 = childSnapshot.key;\n            let childData1 = childSnapshot.val();\n            arr.push(childData1);\n            console.log(childData1);\n          });\n        });\n        setData(arr);\n      });\n    });\n  };\n\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    sx: {\n      marginTop: '40px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      sx: {\n        minWidth: 650\n      },\n      \"aria-label\": \"simple table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Stay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"CNIC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Mobile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Persons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: data !== 0 ? data.map((item, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            sx: {\n              color: 'black'\n            },\n            component: \"th\",\n            scope: \"row\",\n            children: item.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: item.noOfDayStay\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 168\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: item.cnic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 223\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: item.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 271\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: item.contactNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 322\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: item.noOfPerson\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 375\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"text\",\n              onClick: () => {\n                edit(item.newkey);\n              },\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 515\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 454\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 429\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"text\",\n              onClick: () => {\n                dele(item.newkey);\n              },\n              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 634\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 573\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 548\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 61\n        }, this)) : /*#__PURE__*/_jsxDEV(Loader1, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 684\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BasicTable, \"Br6t2evxIJTBKaiwkSWni5WYUDQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = BasicTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasicTable\");","map":{"version":3,"sources":["D:/React Project/Source Code/src/component/AdminDetail.js"],"names":["React","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useEffect","useNavigate","EditIcon","DeleteIcon","Button","useState","Loader1","auth","push","onAuthStateChanged","signOut","ref","db","child","get","query","update","remove","onValue","swal","BasicTable","arr","data","setData","name","setName","cnic","setCnic","address","setAddress","contactNo","setContactNo","noOfPerson","setNoOfPerson","noOfDayStay","setNoOfDayStay","navigation","show","setShow","edit","e","prompt","console","log","dbRef","snapshot","forEach","childSnapshot","childKey","key","then","catch","err","refresh","dele","childData","val","childKey1","childData1","marginTop","minWidth","map","item","index","color","newkey"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Button from '@mui/material/Button';\r\nimport { useState } from 'react';\r\nimport { Loader1 } from './loader';\r\nimport {\r\n    auth,\r\n    push,\r\n    onAuthStateChanged,\r\n    signOut,\r\n    ref,\r\n    db,\r\n    child,\r\n    get,\r\n    query,\r\n    update,\r\n    remove,\r\n    onValue\r\n} from '../firebase/firebase'\r\nimport swal from 'sweetalert';\r\n\r\n\r\n\r\n\r\n\r\nexport default function BasicTable() {\r\n    let arr = [];\r\n    const [data, setData] = React.useState([]);\r\n    const [name, setName] = useState()\r\n    const [cnic, setCnic] = useState()\r\n    const [address, setAddress] = useState()\r\n    const [contactNo, setContactNo] = useState()\r\n    const [noOfPerson, setNoOfPerson] = useState()\r\n    const [noOfDayStay, setNoOfDayStay] = useState()\r\n    const navigation = useNavigate();\r\n    const [show, setShow] = useState(false);\r\n\r\n\r\n    const edit = (e) => {\r\n\r\n        let name = prompt('Enter Your Name')\r\n        let cnic = prompt('Enter Your Cnic Number')\r\n        let address = prompt('Enter Your Address')\r\n        let contactNo = prompt('Enter Your Contact No')\r\n        let noOfPerson = prompt('No Of Persons')\r\n        let noOfDayStay = prompt('No Of Day Stay')\r\n\r\n        console.log(e)\r\n        const dbRef = ref(db, `Bookings/`);\r\n        onValue(dbRef, (snapshot) => {\r\n            snapshot.forEach((childSnapshot) => {\r\n                let childKey = childSnapshot.key;\r\n                update(ref(db, `Bookings/${childKey}/${e}`), {\r\n                    name,\r\n                    cnic,\r\n                    address,\r\n                    contactNo,\r\n                    noOfPerson,\r\n                    noOfDayStay,\r\n                })\r\n                    .then(() => {\r\n                        console.log(\"data changed successfully\");\r\n                        navigation('/accdet')\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(\"unsuccessfully\");\r\n                    })\r\n            });\r\n            refresh()\r\n        })\r\n\r\n    }\r\n\r\n    const dele = (e) => {\r\n        console.log(e)\r\n        const dbRef = ref(db, `Bookings/`);\r\n        onValue(dbRef, (snapshot) => {\r\n            snapshot.forEach((childSnapshot) => {\r\n                let childKey = childSnapshot.key;\r\n                remove(ref(db, `Bookings/${childKey}/${e}`))\r\n            });\r\n            refresh()\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const dbRef = ref(db, `Bookings/`);\r\n        onValue(dbRef, (snapshot) => {\r\n            snapshot.forEach((childSnapshot) => {\r\n                let childKey = childSnapshot.key;\r\n                let childData = childSnapshot.val();\r\n                onValue(ref(db, `Bookings/${childKey}/`), (snapshot) => {\r\n                    snapshot.forEach((childSnapshot) => {\r\n                        let childKey1 = childSnapshot.key;\r\n                        let childData1 = childSnapshot.val();\r\n                        arr.push(childData1)\r\n                        console.log(childData1)\r\n                    });\r\n                })\r\n                setData(arr)\r\n            });\r\n        })\r\n\r\n    }, [])\r\n\r\n    let refresh = () => {\r\n        const dbRef = ref(db, `Bookings/`);\r\n        onValue(dbRef, (snapshot) => {\r\n            snapshot.forEach((childSnapshot) => {\r\n                let childKey = childSnapshot.key;\r\n                let childData = childSnapshot.val();\r\n                onValue(ref(db, `Bookings/${childKey}/`), (snapshot) => {\r\n                    snapshot.forEach((childSnapshot) => {\r\n                        let childKey1 = childSnapshot.key;\r\n                        let childData1 = childSnapshot.val();\r\n                        arr.push(childData1)\r\n                        console.log(childData1)\r\n                    });\r\n                })\r\n                setData(arr)\r\n            });\r\n        })\r\n    }\r\n    console.log(data)\r\n\r\n\r\n    return (\r\n        <TableContainer component={Paper} sx={{ marginTop: '40px' }}>\r\n            <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Name</TableCell>\r\n                        <TableCell align=\"right\">Stay</TableCell>\r\n                        <TableCell align=\"right\">CNIC</TableCell>\r\n                        <TableCell align=\"right\">Address</TableCell>\r\n                        <TableCell align=\"right\">Mobile</TableCell>\r\n                        <TableCell align=\"right\">Persons</TableCell>\r\n                        <TableCell align=\"right\">Edit</TableCell>\r\n                        <TableCell align=\"right\">Delete</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {data !== 0 ? data.map((item, index) => <TableRow><TableCell sx={{ color: 'black' }} key={index} component=\"th\" scope=\"row\">{item.name}</TableCell><TableCell align=\"right\">{item.noOfDayStay}</TableCell><TableCell align=\"right\">{item.cnic}</TableCell><TableCell align=\"right\">{item.address}</TableCell><TableCell align=\"right\">{item.contactNo}</TableCell><TableCell align=\"right\">{item.noOfPerson}</TableCell><TableCell align=\"right\"><Button variant=\"text\" onClick={() => { edit(item.newkey) }}><EditIcon /></Button></TableCell><TableCell align=\"right\"><Button variant=\"text\" onClick={() => { dele(item.newkey) }}><DeleteIcon /></Button></TableCell></TableRow>) : <Loader1 />}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}